<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" lang="en-US">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=11"/>
<meta name="generator" content="Doxygen 1.10.0"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>EpiNLP Builder: ACT Health Epidemiology NLP Program Builder (EpiNLP Builder)</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<script type="text/javascript" src="clipboard.js"></script>
<link href="navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="resize.js"></script>
<script type="text/javascript" src="navtreedata.js"></script>
<script type="text/javascript" src="navtree.js"></script>
<script type="text/javascript" src="cookie.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr id="projectrow">
  <td id="projectalign">
   <div id="projectname">EpiNLP Builder<span id="projectnumber">&#160;1.0.0</span>
   </div>
   <div id="projectbrief">A Python package for the end-to-end creation of NLP Programs for ACT Health.</div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.10.0 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
var searchBox = new SearchBox("searchBox", "search/",'.html');
/* @license-end */
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
$(function() {
  initMenu('',true,false,'search.php','Search');
  $(function() { init_search(); });
});
/* @license-end */
</script>
<div id="main-nav"></div>
</div><!-- top -->
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
      <div id="nav-sync" class="sync"></div>
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
$(function(){initNavTree('md__c_1_2_users_2macgg_2_one_drive_2_desktop_2_epi_n_l_ppb_2_r_e_a_d_m_e.html',''); initResizable(); });
/* @license-end */
</script>
<div id="doc-content">
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<div id="MSearchResults">
<div class="SRPage">
<div id="SRIndex">
<div id="SRResults"></div>
<div class="SRStatus" id="Loading">Loading...</div>
<div class="SRStatus" id="Searching">Searching...</div>
<div class="SRStatus" id="NoMatches">No Matches</div>
</div>
</div>
</div>
</div>

<div><div class="header">
  <div class="headertitle"><div class="title">ACT Health Epidemiology NLP Program Builder (EpiNLP Builder)</div></div>
</div><!--header-->
<div class="contents">
<div class="textblock"><p><a class="anchor" id="autotoc_md0"></a> This package builds customised Natural Language Processing (NLP) programs for classifying free text snippets based on the presence of a specified characteristic. These NLP programs provide binary classifications of free text based on Linguistic Analysis and Machine Learning techniques. The output of these programs is an additional variable, in an existing data set containing free text, indicating a classification of the free text. This project was initially created to identify Emergency Department presentations related to suicide or self-harm from triage notes. In the case of suicide or self-harm related Emergency Department presentations, this classification process is more efficient than manual annotation, more precise than keyword searching, and more comprehensive than classifying based on ICD-10 clinical codes.</p>
<p>The building process can be operated through a Graphical User Interface (GUI). The GUI guides the user through uploading annotated free text data, inputting or uploading customisation parameters and then creating, evaluating, exporting, and utilising an NLP program. This GUI is not complete in version 1.0 and will be finalised in a later release. It is recommended to use the source code directly, as detailed below. The NLP programs are customised by the choice of annotated data, demographic, data size and distribution, linguistic analysis techniques and machine learning algorithm. This enables users to create and use NLP programs optimised to their needs.</p>
<p>Disclaimer: This software package was developed during a proof-of-concept project. The NLP techniques included do not claim to be cutting edge or comprehensive. This software package is useful for experimentation with and exploration of NLP programs but may not be suited to large-scale implementations.</p>
<h1><a class="anchor" id="autotoc_md1"></a>
Repository Structure</h1>
<p>The directories (D) and packages (P) within this repository are structured as follows:</p>
<div class="fragment"><div class="line">├── data                (D) # A convenient location to store test data.</div>
<div class="line">├── gui                 (P) # The Graphical User Interface (GUI).</div>
<div class="line">│   └── build           (P) # The component of gui which constructs NLP programs.</div>
<div class="line">|       └── vectorise   (P) # The component of build which constructs vectorizers. </div>
<div class="line">├── model               (P) # Save and demonstration location for NLP programs.                  </div>
<div class="line">├── package             (P) # The backend of the program builder.</div>
<div class="line">│   ├── Importer        (P) # The component of package which imports data.</div>
<div class="line">|   |   └──extractors   (P) # The component of package which extracts specified data. </div>
<div class="line">│   ├── evaluate        (P) # The component of package which evaluates NLP programs.</div>
<div class="line">│   ├── mlearn          (P) # The component of package which utilises a machine learning algorithm.</div>
<div class="line">│   └── vectorise       (P) # The component of package which vectorizes free text.</div>
<div class="line">└── tests               (P) # Tests for &#39;package&#39; and its sub-packages.</div>
</div><!-- fragment --><h1><a class="anchor" id="autotoc_md2"></a>
Dependencies</h1>
<p>All code is written in Python 3.10.9. The code depends on the following modules:</p>
<ul>
<li>abc</li>
<li>collections</li>
<li>joblib</li>
<li>matplotlib</li>
<li>nltk</li>
<li>numpy</li>
<li>openpyxl</li>
<li>os</li>
<li>pandas</li>
<li>PyQt6</li>
<li>random</li>
<li>scipy</li>
<li>sklearn</li>
<li>sys</li>
<li>time</li>
<li>tracemalloc</li>
<li>typing</li>
<li>unittest</li>
</ul>
<p>Ensure that 'python' is set as a path variable or that the terminal being used is Anaconda PowerShell.</p>
<h1><a class="anchor" id="autotoc_md3"></a>
Set up</h1>
<h2><a class="anchor" id="autotoc_md4"></a>
Requirements</h2>
<p>To run this project, you will need <a href="https://git-scm.com">Git</a> and <a href="https://www.python.org/downloads/">Python</a> installed on your computer.</p>
<h2><a class="anchor" id="autotoc_md5"></a>
Installation</h2>
<p>Complete the following steps once, when first installing the repository. If you are using multiple python projects on your machine, consider creating a virtual environment for this project.</p>
<p>To install this project, open a terminal in the location you wish to store this repository. Run the following command: </p><div class="fragment"><div class="line">git clone https://github.com/George-McNamara-Gov/EpiNLPpb.git</div>
</div><!-- fragment --><p> Then navigate into this repository by running: </p><div class="fragment"><div class="line">cd EpiNLPpb</div>
</div><!-- fragment --><p> Next use Python's default dependency manager 'pip' to install this project's dependencies by running: </p><div class="fragment"><div class="line">pip install -r requirements.txt</div>
</div><!-- fragment --><p> If the above command returns an error and you are trying to install through a proxy server, instead run: </p><div class="fragment"><div class="line">pip install --proxy http://&lt;USERNAME&gt;:&lt;PASSWORD&gt;@&lt;PROXY&gt;:&lt;PORT&gt; --trusted-host pypi.org --trusted-host files.pythonhosted.org -r requirements.txt</div>
</div><!-- fragment --><p> Finally, you will need to download dictionaries from NLTK by running: </p><div class="fragment"><div class="line">python -m nltk_install</div>
</div><!-- fragment --><p> If the above command returns an error and you are trying to install through a proxy server, instead run: </p><div class="fragment"><div class="line">python -m nltk_install_proxy &lt;USERNAME&gt; &lt;PASSWORD&gt; &lt;PROXY&gt; &lt;PORT&gt; </div>
</div><!-- fragment --><h1><a class="anchor" id="autotoc_md6"></a>
Usage</h1>
<p>To use the program builder, import the NLP class from <a class="el" href="package_2base_8py.html">package/base.py</a>. </p><div class="fragment"><div class="line">from EpiNLPpb.package.base import NLP</div>
</div><!-- fragment --><p> The NLP class contains all the functionality required to create, evaluate, export, and use an NLP program. To do this, first create an NLP object with the desired customisations. </p><div class="fragment"><div class="line">nlp = NLP(</div>
<div class="line">    &#39;program name&#39;,</div>
<div class="line">    [&#39;/path/to/data/file1&#39;, &#39;/path/to/data/file2&#39;],</div>
<div class="line">    &#39;FILETYPE&#39;,</div>
<div class="line">    &#39;date column label&#39;,</div>
<div class="line">    &#39;hospital column label&#39;,</div>
<div class="line">    &#39;sex column label&#39;,</div>
<div class="line">    &#39;age column label&#39;,</div>
<div class="line">    [&#39;text field 1 column label&#39;, &#39;text field 2 column label&#39;],</div>
<div class="line">    &#39;flag column label&#39;,</div>
<div class="line">    15,     #minimum age</div>
<div class="line">    60,     #maximum age</div>
<div class="line">    &#39;CHHS&#39;, #hospital</div>
<div class="line">    &#39;MALE&#39;, #sex</div>
<div class="line">    2017,   #earliest year</div>
<div class="line">    2021,   #latest year</div>
<div class="line">    15000,  #amount of training data</div>
<div class="line">    &#39;TRAIN_DIST&#39;,</div>
<div class="line">    2000,   #amount of testing data</div>
<div class="line">    &#39;TEST_DIST&#39;,</div>
<div class="line">    &#39;tokeniser&#39;,</div>
<div class="line">    [&#39;pre LA change 1&#39;, &#39;pre LA change 2&#39;],</div>
<div class="line">    [&#39;token level 1&#39;],</div>
<div class="line">    [&#39;text level 1&#39;, &#39;text level 2&#39;, &#39;text level 3&#39;],</div>
<div class="line">    &#39;corpus level technique&#39;,</div>
<div class="line">    &#39;ml algorithm type&#39;,</div>
<div class="line">    [&#39;ml alg param 1&#39;, &#39;ml alg param 2&#39;],</div>
<div class="line">    4.5,    #percentage of positively flagged training records</div>
<div class="line">    2.1     #percentage of positively flagged testing records</div>
<div class="line">)</div>
</div><!-- fragment --><p> Information about the format of and options for each parameter in the NLP constructor can be found in the EpiNLP Builder Technical Notes.</p>
<p>Use the create method to build an NLP program with these desired customisations. </p><div class="fragment"><div class="line">nlp.create()</div>
</div><!-- fragment --><p> Use the evaluateNLP method to evaluate this NLP program. </p><div class="fragment"><div class="line">nlp.evaluateNLP()</div>
<div class="line">nlp.viewEvaluation()</div>
</div><!-- fragment --><p> Use the exportNLP method to save this NLP program in the model directory. </p><div class="fragment"><div class="line">nlp.exportNLP()</div>
</div><!-- fragment --><p> Use the annotateDataCSV or annotateDataXLSX methods to use this NLP program to annotate an existing data set. </p><div class="fragment"><div class="line">nlp.annotateDataCSV(</div>
<div class="line">    &#39;/path/to/existing/data/set.csv&#39;,</div>
<div class="line">    [&#39;text field 1 column label&#39;, &#39;text field 2 column label&#39;],</div>
<div class="line">    &#39;label for annotation column&#39;</div>
<div class="line">)</div>
</div><!-- fragment --><p> Or </p><div class="fragment"><div class="line">nlp.annotateDataXLSX(</div>
<div class="line">    &#39;/path/to/existing/data/set.xlsx&#39;,</div>
<div class="line">    &#39;sheet name&#39;,</div>
<div class="line">    [&#39;text field 1 column label&#39;, &#39;text field 2 column label&#39;],</div>
<div class="line">    &#39;label for annotation column&#39;</div>
<div class="line">)</div>
</div><!-- fragment --><p> For more information about using the software package please consult the package documentation.</p>
<p>This project can also be used through a GUI. To launch the GUI, open a terminal in the directory containing this repository and run: </p><div class="fragment"><div class="line">python -m EpiNLPpb.gui.gui</div>
</div><!-- fragment --><p> As of Version 1.0, the GUI is not yet complete and will be finalised in a subsequent release.</p>
<h1><a class="anchor" id="autotoc_md7"></a>
Tests</h1>
<p>A suite of tests is provided for the backend of this project implemented in the 'package' directory. These tests are organised by module with tests for 'package/base', 'Importer', 'vectorise', 'vectorise/nltk', 'mlearn', and 'evaluate'. To run the tests, open a terminal in the directory containing this repository and run: </p><div class="fragment"><div class="line">python -m EpiNLPpb.tests.test</div>
</div><!-- fragment --><h1><a class="anchor" id="autotoc_md8"></a>
Development</h1>
<p>This project began development through the Vacation Study Program 2023-24 run by the ACT Health Research Strategy Team. The development continues in the ACT Health Directorate, Epidemiology Section, Knowledge Translation and Health Outcomes Team. All development is internal to ACT Health. For enquiries, please email the following address:</p>
<p><a href="#" onclick="location.href='mai'+'lto:'+'epi'+'ce'+'ntr'+'e@'+'act'+'.g'+'ov.'+'au'; return false;">epice<span class="obfuscator">.nosp@m.</span>ntre<span class="obfuscator">.nosp@m.</span>@act.<span class="obfuscator">.nosp@m.</span>gov.<span class="obfuscator">.nosp@m.</span>au</a></p>
<h1><a class="anchor" id="autotoc_md9"></a>
Credits</h1>
<p>This software uses the following open source packages:</p><ul>
<li>NLTK</li>
<li>Sci-Kit Learn</li>
<li>PyQt6</li>
</ul>
<p>This project was written by George McNamara.</p>
<p>This project was supervised by Glenn Draper, Dr Louise Freebairn, Dr Erin Walsh and Dr Gao Zhu.</p>
<p>The initial data for classifying ED records related to SSH was provided by Paul Mayers.</p>
<p>Technical support and problem solving was facilitated by Aidan Whitfield.</p>
<p>The documentation for this project was generated using <a href="https://www.doxygen.nl/index.html">Doxygen</a>.</p>
<h1><a class="anchor" id="autotoc_md10"></a>
License</h1>
<p>EpiNLP Builder is free and open-source software released under the <a href="https://github.com/George-McNamara-Gov/ACTHealthNLPProgramBuilder/blob/main/LICENSE">GPL</a> (General Public License). </p>
</div></div><!-- contents -->
</div><!-- PageDoc -->
</div><!-- doc-content -->
<!-- start footer part -->
<div id="nav-path" class="navpath"><!-- id is needed for treeview function! -->
  <ul>
    <li class="footer">Generated by <a href="https://www.doxygen.org/index.html"><img class="footer" src="doxygen.svg" width="104" height="31" alt="doxygen"/></a> 1.10.0 </li>
  </ul>
</div>
</body>
</html>
